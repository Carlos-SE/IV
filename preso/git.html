<!doctype html>
<html>
    <head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>Un poco de git</title>

	<link rel="stylesheet" href="dist/reset.css">
	<link rel="stylesheet" href="dist/reveal.css">
	<link rel="stylesheet" href="dist/iv.css">
        <link rel="stylesheet" href="dist/extra.css">

	<!-- Theme used for syntax highlighted code -->
	<link rel="stylesheet" href="plugin/highlight/monokai.css">
    </head>
    <body>
	<div class="reveal">
	    <div class="slides">
		<section data-background="https://live.staticflickr.com/1470/25389053502_a23fc6a3ff_k_d.jpg"><h1>Un poco de git</h1>
                    <h2>Infraestructura virtual</h2>
                    <h3><a href="https://github.com/JJ"><code>JJ</code>
		        en GitHub</a>, <a href="https://twitter.com/jjmerelo"><code>@jjmerelo</code></a></h3>
                </section>


                <section>
                    <h1>Las mejores prácticas son las mejores</h1>
                    <h1 class="fragment">E incluyen el uso de repositorios de código</h1>

		    <aside class='notes'>Todavía te encuentras a alguien que en
                su TFG no usa repositorios de código "porque no se lo ha pedido
                el tutor". Si no te lo ha pedido, pídeselo tú. No se puede
                desarrollar hoy en día sin repositorio de código. Te permite
                crear flujos de trabajo en equipo más eficientes, evitar
                conflictos, medir el progreso, acreditar correctamente quién ha
                hecho qué. Por supuesto, forman parte imprescindible de la
                infraestructura virtual.</aside>
                </section>

		<section data-background='https://live.staticflickr.com/7916/47504907811_02c723f7ef_k_d.jpg'><h1>Las <em>ramas</em> agrupan trabajo</h1>
		      <h2 class='fragment'>Y crean flujos de trabajo en equipo</h2>
		</section>

                <section>
                    <h2>Usa nombres significativos para las ramas</h2>
                    <aside class="notes"><em>Siempre</em> se
                        trabaja desde una rama, nunca se incorpora a
                        main o master sin que se haya revisado el
                        código, aunque sea por uno mismo. Es esencial
                        trabajar en las ramas. You know the joke
                        about the three biggest problems in computing:
                            naming things and off-by-one problems. </aside>
                </section>

		<section data-background='https://live.staticflickr.com/749/32133243512_b875580879_k_d.jpg'><h1>PRs
		    <em>siempre desde una rama</em></h1>

		    <aside class='notes'>Al editar desde la web se
		            crea una rama automáticamente; si no, se crea una
		            rama con el nombre del hito, por ejemplo. Never from
		            your own copy of main. De esta forma se evitan
		            conflictos cuando el repo "principal" fusione con main.</aside>

		    </section>

                    <section data-background='https://live.staticflickr.com/1191/1255196757_7d498f21c6_k_d.jpg'><h1>Creando
                                y cambiando a una rama</h1>
                            <pre><code>git checkout -b nombre-guay-de-rama</code></pre>

                    </section>
                    <section>
                        <h1 class="fragment">Y push</h1>

                        <pre><code>git push -u origin $(git describe --contains --all HEAD)</code></pre>
                        <aside class="notes">En push sucesivos se quita el
                            -u. Así siempre se hace push exclusivamente a la
                                rama en la que se está.</aside>

                    </section>

                    <section><h1><a href="(https://github.com/JJ/IV/blob/master/scripts/git-iv">Descarga</a> y usa <code>git iv</code></h1>
                        <h2 class="fragment">Descarga, copia a
                            <code>~/bin</code>,
                            <pre><code>chmod +x git-iv</code></h2></pre>

                        <pre><code data-line-numbers="1|2">git iv objetivo 0
git iv sube-objetivos</code></pre>
                    </section>

                    <section><h1>Tipos de pull</h1>
                                <h1 class="fragment"><em>Squash</em></h1>
                                <h1 class="fragment"><em>Merge commit</em></h1>
                                <h1 class="fragment">Rebase y <em>merge</em>
                                    ⋆⋆⋆⋆⋆</h1>

                                <aside class="notes">Some companies want only
                            squash commits, some others want to do
                            rebase. Almost none want merge commits. It's a
                            matter of taste, company size, and also testing and
                                    QA resources. Esto no es muy relevante para
                            la asignatura, pero es interesante saberlo de todas formas</aside>
                    </section>

                    <section><h1>Resolviendo conflictos</h1>
                                <pre><code>
git checkout --theirs file
git checkout --ours file
                                </code></pre>
                                <h2 class="fragment">Si todo falla</h2>
                                <pre><code class="fragment">git clone url
git rm origin
gti remote add origin url-de-mi-fork
git push --force</code></pre>
                                <aside class="notes">Cuidado con hacer esto
                                    con un PR abierto; si se hace así, se
                                    cerrará. En todo caso, esto no debería ocurrir si siempre se pide PR desde una rama.</aside>
                            </section>

                            <section><h1>Pull requests</h1>
                                <h2 class="fragment">"Haz un pull de este código
                                    que arregla algo</h2>
                                <h2>Oportunidad para revisar código</h2>

                                <aside class="notes">Por los senior, otra gente,
                                    o el profe, en esta asignatura</aside>
                            </section>

                            <section><h1><em>Tagging</em> y <em>releasing</em></h1>

                                <h2>Publicación frecuente de MVP</h2>
                                <pre><code>git tag -a v0.0.1 -m "First release"</code></pre>

                                <aside class="notes">Tampoco es obligatorio en
                                    la asignatura, pero sigue siendo una buena práctica</aside>
                            </section>

                            <section
                                data-background='https://live.staticflickr.com/1191/1255196757_7d498f21c6_k_d.jpg'><h1>Rama
                                desde un tag</h1>
                                <pre><code>git checkout v0.0.1
git checkout -b branch-from-tag</code></pre>
                            </section>

                            <section><h1>A currar en el objetivo 0</h1></section>

	    </div>
	</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
			    hash: true,
                            width: '98%',
                            controls: true,
                            progress: true,
                            history: true,
			    plugins: [ RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
